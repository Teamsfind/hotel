<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kcsj.dao.WageMapper" >
  <resultMap id="BaseResultMap" type="com.kcsj.pojo.Wage" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 06 22:05:22 CST 2018.
    -->
    <id column="wage_id" property="wageId" jdbcType="INTEGER" />
    <result column="user_number" property="userNumber" jdbcType="INTEGER" />
    <result column="wage_attd" property="wageAttd" jdbcType="INTEGER" />
    <result column="wage_notattd" property="wageNotattd" jdbcType="INTEGER" />
    <result column="wage_vacation" property="wageVacation" jdbcType="INTEGER" />
    <result column="wage_travel" property="wageTravel" jdbcType="INTEGER" />
    <result column="wage_travelcostall" property="wageTravelcostall" jdbcType="DOUBLE" />
    <result column="wage_birth" property="wageBirth" jdbcType="DOUBLE" />
    <result column="wage_personal" property="wagePersonal" jdbcType="DOUBLE" />
    <result column="wage_dpt" property="wageDpt" jdbcType="DOUBLE" />
    <result column="wage_basswage" property="wageBasswage" jdbcType="DOUBLE" />
    <result column="wage_attdcost" property="wageAttdcost" jdbcType="DOUBLE" />
    <result column="wage_allwage" property="wageAllwage" jdbcType="DOUBLE" />
    <result column="wage_tobank" property="wageTobank" jdbcType="INTEGER" />
    <result column="wage_allwagetime" property="wageAllwagetime" jdbcType="TIMESTAMP" />
    <result column="wage_remark" property="wageRemark" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 06 22:05:22 CST 2018.
    -->
    wage_id, user_number, wage_attd, wage_notattd, wage_vacation, wage_travel, wage_travelcostall, 
    wage_birth, wage_personal, wage_dpt, wage_basswage, wage_attdcost, wage_allwage, 
    wage_tobank, wage_allwagetime, wage_remark
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 06 22:05:22 CST 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from wage
    where wage_id = #{wageId,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 06 22:05:22 CST 2018.
    -->
    delete from wage
    where wage_id = #{wageId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.kcsj.pojo.Wage" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 06 22:05:22 CST 2018.
    -->
    insert into wage (wage_id, user_number, wage_attd, 
      wage_notattd, wage_vacation, wage_travel, 
      wage_travelcostall, wage_birth, wage_personal, 
      wage_dpt, wage_basswage, wage_attdcost, 
      wage_allwage, wage_tobank, wage_allwagetime, 
      wage_remark)
    values (#{wageId,jdbcType=INTEGER}, #{userNumber,jdbcType=INTEGER}, #{wageAttd,jdbcType=INTEGER}, 
      #{wageNotattd,jdbcType=INTEGER}, #{wageVacation,jdbcType=INTEGER}, #{wageTravel,jdbcType=INTEGER}, 
      #{wageTravelcostall,jdbcType=DOUBLE}, #{wageBirth,jdbcType=DOUBLE}, #{wagePersonal,jdbcType=DOUBLE}, 
      #{wageDpt,jdbcType=DOUBLE}, #{wageBasswage,jdbcType=DOUBLE}, #{wageAttdcost,jdbcType=DOUBLE}, 
      #{wageAllwage,jdbcType=DOUBLE}, #{wageTobank,jdbcType=INTEGER}, #{wageAllwagetime,jdbcType=TIMESTAMP}, 
      #{wageRemark,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.kcsj.pojo.Wage" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 06 22:05:22 CST 2018.
    -->
    insert into wage
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="wageId != null" >
        wage_id,
      </if>
      <if test="userNumber != null" >
        user_number,
      </if>
      <if test="wageAttd != null" >
        wage_attd,
      </if>
      <if test="wageNotattd != null" >
        wage_notattd,
      </if>
      <if test="wageVacation != null" >
        wage_vacation,
      </if>
      <if test="wageTravel != null" >
        wage_travel,
      </if>
      <if test="wageTravelcostall != null" >
        wage_travelcostall,
      </if>
      <if test="wageBirth != null" >
        wage_birth,
      </if>
      <if test="wagePersonal != null" >
        wage_personal,
      </if>
      <if test="wageDpt != null" >
        wage_dpt,
      </if>
      <if test="wageBasswage != null" >
        wage_basswage,
      </if>
      <if test="wageAttdcost != null" >
        wage_attdcost,
      </if>
      <if test="wageAllwage != null" >
        wage_allwage,
      </if>
      <if test="wageTobank != null" >
        wage_tobank,
      </if>
      <if test="wageAllwagetime != null" >
        wage_allwagetime,
      </if>
      <if test="wageRemark != null" >
        wage_remark,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="wageId != null" >
        #{wageId,jdbcType=INTEGER},
      </if>
      <if test="userNumber != null" >
        #{userNumber,jdbcType=INTEGER},
      </if>
      <if test="wageAttd != null" >
        #{wageAttd,jdbcType=INTEGER},
      </if>
      <if test="wageNotattd != null" >
        #{wageNotattd,jdbcType=INTEGER},
      </if>
      <if test="wageVacation != null" >
        #{wageVacation,jdbcType=INTEGER},
      </if>
      <if test="wageTravel != null" >
        #{wageTravel,jdbcType=INTEGER},
      </if>
      <if test="wageTravelcostall != null" >
        #{wageTravelcostall,jdbcType=DOUBLE},
      </if>
      <if test="wageBirth != null" >
        #{wageBirth,jdbcType=DOUBLE},
      </if>
      <if test="wagePersonal != null" >
        #{wagePersonal,jdbcType=DOUBLE},
      </if>
      <if test="wageDpt != null" >
        #{wageDpt,jdbcType=DOUBLE},
      </if>
      <if test="wageBasswage != null" >
        #{wageBasswage,jdbcType=DOUBLE},
      </if>
      <if test="wageAttdcost != null" >
        #{wageAttdcost,jdbcType=DOUBLE},
      </if>
      <if test="wageAllwage != null" >
        #{wageAllwage,jdbcType=DOUBLE},
      </if>
      <if test="wageTobank != null" >
        #{wageTobank,jdbcType=INTEGER},
      </if>
      <if test="wageAllwagetime != null" >
        #{wageAllwagetime,jdbcType=TIMESTAMP},
      </if>
      <if test="wageRemark != null" >
        #{wageRemark,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.kcsj.pojo.Wage" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 06 22:05:22 CST 2018.
    -->
    update wage
    <set >
      <if test="userNumber != null" >
        user_number = #{userNumber,jdbcType=INTEGER},
      </if>
      <if test="wageAttd != null" >
        wage_attd = #{wageAttd,jdbcType=INTEGER},
      </if>
      <if test="wageNotattd != null" >
        wage_notattd = #{wageNotattd,jdbcType=INTEGER},
      </if>
      <if test="wageVacation != null" >
        wage_vacation = #{wageVacation,jdbcType=INTEGER},
      </if>
      <if test="wageTravel != null" >
        wage_travel = #{wageTravel,jdbcType=INTEGER},
      </if>
      <if test="wageTravelcostall != null" >
        wage_travelcostall = #{wageTravelcostall,jdbcType=DOUBLE},
      </if>
      <if test="wageBirth != null" >
        wage_birth = #{wageBirth,jdbcType=DOUBLE},
      </if>
      <if test="wagePersonal != null" >
        wage_personal = #{wagePersonal,jdbcType=DOUBLE},
      </if>
      <if test="wageDpt != null" >
        wage_dpt = #{wageDpt,jdbcType=DOUBLE},
      </if>
      <if test="wageBasswage != null" >
        wage_basswage = #{wageBasswage,jdbcType=DOUBLE},
      </if>
      <if test="wageAttdcost != null" >
        wage_attdcost = #{wageAttdcost,jdbcType=DOUBLE},
      </if>
      <if test="wageAllwage != null" >
        wage_allwage = #{wageAllwage,jdbcType=DOUBLE},
      </if>
      <if test="wageTobank != null" >
        wage_tobank = #{wageTobank,jdbcType=INTEGER},
      </if>
      <if test="wageAllwagetime != null" >
        wage_allwagetime = #{wageAllwagetime,jdbcType=TIMESTAMP},
      </if>
      <if test="wageRemark != null" >
        wage_remark = #{wageRemark,jdbcType=VARCHAR},
      </if>
    </set>
    where wage_id = #{wageId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.kcsj.pojo.Wage" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Apr 06 22:05:22 CST 2018.
    -->
    update wage
    set user_number = #{userNumber,jdbcType=INTEGER},
      wage_attd = #{wageAttd,jdbcType=INTEGER},
      wage_notattd = #{wageNotattd,jdbcType=INTEGER},
      wage_vacation = #{wageVacation,jdbcType=INTEGER},
      wage_travel = #{wageTravel,jdbcType=INTEGER},
      wage_travelcostall = #{wageTravelcostall,jdbcType=DOUBLE},
      wage_birth = #{wageBirth,jdbcType=DOUBLE},
      wage_personal = #{wagePersonal,jdbcType=DOUBLE},
      wage_dpt = #{wageDpt,jdbcType=DOUBLE},
      wage_basswage = #{wageBasswage,jdbcType=DOUBLE},
      wage_attdcost = #{wageAttdcost,jdbcType=DOUBLE},
      wage_allwage = #{wageAllwage,jdbcType=DOUBLE},
      wage_tobank = #{wageTobank,jdbcType=INTEGER},
      wage_allwagetime = #{wageAllwagetime,jdbcType=TIMESTAMP},
      wage_remark = #{wageRemark,jdbcType=VARCHAR}
    where wage_id = #{wageId,jdbcType=INTEGER}
  </update>
  
  <select id="findall" resultType="com.kcsj.entitl.Wage1">
  	select w.wage_id as wageId, w.user_number as userNumber,u.user_dpt as userdpt,user_dpt_jbn as userdptjob,u.user_username as username,w.wage_attd as wageAttd,w.wage_vacation as wageVacation,w.wage_travel as wageTravel,w.wage_travelcostall as wageTravelcostall,w.wage_birth as wageBirth,w.wage_personal as wagePersonal,w.wage_dpt as wageDpt,w.wage_basswage as wageBasswage,w.wage_attdcost as wageAttdcost,w.wage_allwagetime as wageAllwagetime,w.wage_allwage as wageAllwage,w.wage_tobank as wageTobank
  	from wage w ,user u 
  	where  w.user_number=u.user_number and DATE_FORMAT( w.wage_Allwagetime , '%Y%m' )=DATE_FORMAT( CURDATE( ) , '%Y%m' ) and w.wage_tobank='0' order by userdpt;
  </select>
</mapper>